import{A as q,B as g,Ca as E,D as S,Da as U,Ea as V,N as c,Oa as H,W as A,_ as C,a as b,b as x,d as I,da as y,f as O,g as R,ga as o,ha as n,i as j,j as M,ja as F,k as v,ka as N,la as _,pa as r,q as p,qa as w,ra as d,s as h,u as P,v as W,x as T,z as f}from"./chunk-HP22XOKW.js";var z="https://swapi.dev/api/people";function L(){let i=p(H);return t=>i.get(`${z}/${t}`).pipe(R(e=>x(b({},e),{id:t})),j(e=>(console.error(e),O(void 0))))}function k(i,t){!t?.injector&&h(k);let e=t?.injector??p(T),a=new I(1),l=V(()=>{let s;try{s=i()}catch(m){E(()=>a.error(m));return}E(()=>a.next(s))},{injector:e,manualCleanup:!0});return e.get(f).onDestroy(()=>{l.destroy(),a.complete()}),a.asObservable()}function D(i,t){let e=!t?.manualCleanup;e&&!t?.injector&&h(D);let a=e?t?.injector?.get(f)??p(f):null,l=G(t?.equal),s;t?.requireSync?s=S({kind:0},{equal:l}):s=S({kind:1,value:t?.initialValue},{equal:l});let m=i.subscribe({next:u=>s.set({kind:1,value:u}),error:u=>{s.set({kind:2,error:u})}});if(t?.requireSync&&s().kind===0)throw new v(601,!1);return a?.onDestroy(m.unsubscribe.bind(m)),U(()=>{let u=s();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new v(601,!1)}},{equal:t?.equal})}function G(i=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&i(t.value,e.value)}function B(i,t){i&1&&(o(0,"p"),r(1,"A Sith, he is evil."),n())}function J(i,t){if(i&1){let e=F();o(0,"p")(1,"span"),r(2,"Id:"),n(),r(3),n(),C(4,B,2,0,"p"),o(5,"p")(6,"span"),r(7,"Name: "),n(),r(8),n(),o(9,"p")(10,"span"),r(11,"Height: "),n(),r(12),n(),o(13,"p")(14,"span"),r(15,"Mass:"),n(),r(16),n(),o(17,"p")(18,"span"),r(19,"Hair Color:"),n(),r(20),n(),o(21,"p")(22,"span"),r(23,"Skin Color:"),n(),r(24),n(),o(25,"p")(26,"span"),r(27,"Eye Color:"),n(),r(28),n(),o(29,"p")(30,"span"),r(31,"Gender:"),n(),r(32),n(),o(33,"button",1),N("click",function(){let l=P(e),s=_();return W(s.alertStarWars.emit(l.name))}),r(34,"Alert parent"),n()}if(i&2){let e=t,a=_();c(3),d(" ",e.id," "),c(),y(a.isSith()?4:-1),c(4),w(e.name),c(4),w(e.height),c(4),d(" ",e.mass),c(4),d(" ",e.hair_color),c(4),d(" ",e.skin_color),c(4),d(" ",e.eye_color),c(4),d(" ",e.gender)}}function K(i,t){i&1&&(o(0,"p"),r(1,"No info"),n())}var $=class i{id=g(1);isSith=g(!1);alertStarWars=q();getPersonFn=L();person=D(k(this.id).pipe(M(t=>this.getPersonFn(t))));static \u0275fac=function(e){return new(e||i)};static \u0275cmp=A({type:i,selectors:[["app-star-war-character"]],inputs:{id:[1,"id"],isSith:[1,"isSith"]},outputs:{alertStarWars:"alertStarWars"},decls:3,vars:1,consts:[[1,"border"],[3,"click"]],template:function(e,a){if(e&1&&(o(0,"div",0),C(1,J,35,9)(2,K,2,0,"p"),n()),e&2){let l;c(),y((l=a.person())?1:2,l)}},styles:["[_nghost-%COMP%]{display:block;font-size:1rem;padding:1rem}.border[_ngcontent-%COMP%]{border:1px solid black;border-radius:.5rem;padding:1rem;margin-bottom:1rem}"],changeDetection:0})};export{$ as AppStarWarCharacterComponent};
